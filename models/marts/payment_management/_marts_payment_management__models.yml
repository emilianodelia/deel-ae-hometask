version: 2

models:
  - name: fct_transactions
    description: >
      Fact model that stores globepay transactions with their corresponding 
      acceptance and chargeback status
    columns:
      - name: transaction_id
        description: "The unique primary key for each transaction. Use this to join with other payment dimension tables"

      - name: event_id
        description: "Unique event identifier associated with the recorded transaction"

      - name: processed_at
        description: "UTC timestamp of the transaction, converted from the ISO 8601 Zulu format"

      - name: status
        description: "The final outcome of the transaction"

      - name: is_cvv_provided
        description: "Boolean flag indicating if the CVV was provided by the user during checkout"

      - name: country_code
        description: "The two-character ISO country code of the card used for the transaction"

      - name: original_currency
        description: "The three-character ISO currency code used for the transaction"

      - name: settled_usd_amount
        description: "The transaction value in USD"

      - name: is_valid
        description: >
          Flags whether the transaction is valid or not based on its status. Useful for filtering out
          any records that are not relevant for critical metrics to be calculated in downstream models